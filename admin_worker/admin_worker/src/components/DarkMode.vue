<template>
  <button
    @click="toggleTheme"
    class="w-10 h-10 rounded-full flex items-center justify-center transition-colors bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700"
  >
    <span class="text-xl">{{ isDarkMode ? "ğŸŒ™" : "â˜€ï¸" }}</span>
  </button>
</template>
<script setup>
import { onMounted, ref } from "vue";

const isDarkMode = ref(false);
//ë‹¤í¬ëª¨ë“œ ìƒíƒœ ë™ê¸°í™” í•¨ìˆ˜
const updateDarkModeState = () => {
  isDarkMode.value = document.documentElement.classList.contains("dark");
};
// ë³´ë¥˜ //í˜ì´ì§€ ë¡œë“œì‹œ ì´ˆê¸° ë‹¤í¬ëª¨ë“œ ì„¤ì •(ì´ë¯¸ë€ëŠ”ë°ë™ê¸°í™”ë§Œë˜ëŠ”ê±¸ë¡œ)
// const enableDarkMode = () => {
//   enableDarkModeState();
// };
//ë²„íŠ¼í´ë¦­ì‹œ ë‹¤í¬ëª¨ë“œ í† ê¸€
const toggleTheme = () => {
  if (document.documentElement.classList.contains("dark")) {
    document.documentElement.classList.remove("dark");
    localStorage.theme = "light";
  } else {
    document.documentElement.classList.add("dark");
    localStorage.theme = "dark";
  }
  updateDarkModeState();
};
// onMounted(() => {
//   updateDarkModeState();
//   enableDarkMode();
// });

// ì´ˆê¸° í…Œë§ˆ ì„¤ì • (localStorage ì½ê¸°)
onMounted(() => {
    //ë¡œì»¬ì— ì €ì•šëœ í…Œë§ˆë¥¼ ì´ˆê¸°ì— ì ìš©ì‹œí‚´
  const savedTheme = localStorage.theme;
  if (savedTheme === "dark") {
    document.documentElement.classList.add("dark");
  } else if (savedTheme === "light") {
    document.documentElement.classList.remove("dark");
  }
  updateDarkModeState();
});
</script>
